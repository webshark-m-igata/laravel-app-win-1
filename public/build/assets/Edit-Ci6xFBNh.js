import{r as i,j as e,L as N}from"./app-B_H1sTXa.js";import{A as v}from"./AuthenticatedLayout-BTNYEmlU.js";import{d as k}from"./index-Dy7gzNDZ.js";import{D as w}from"./dropdown.esm-COSQCgxg.js";import"./ApplicationLogo-KP1B-3Qc.js";import"./transition-ClnC5tZK.js";import"./index.esm-DxxmVuf0.js";import"./csstransition.esm-N-po8r9f.js";import"./index.esm-N8m5rv-0.js";function W({auth:b,user:t,shops:p,warehouses:f}){const[c,m]=i.useState(""),[u,x]=i.useState(""),[a,r]=i.useState([]),[d,l]=i.useState([]),[g,h]=i.useState(""),j=[{label:"管理者",value:"admin"},{label:"ユーザー",value:"user"}];i.useEffect(()=>{m(t.name),x(t.email),r(t.shop_ids||[]),l(t.warehouse_ids||[]),h(t.role||"user")},[t]);const y=s=>{s.preventDefault(),k.Inertia.put(`/admin/users/${t.id}`,{name:c,email:u,shop_ids:a,warehouse_ids:d,role:g})};return e.jsxs(v,{user:b.user,header:e.jsx("h2",{className:"text-xl font-semibold leading-tight text-gray-800",children:"Edit User"}),children:[e.jsx(N,{title:"Edit User"}),e.jsx("div",{className:"py-12 pt-4",children:e.jsx("div",{className:"mx-auto max-w-7xl sm:px-6 lg:px-8",children:e.jsx("div",{className:"overflow-hidden bg-white shadow-sm sm:rounded-lg",children:e.jsx("div",{className:"p-6 bg-white border-b border-gray-200",children:e.jsxs("form",{onSubmit:y,children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"Name"}),e.jsx("input",{type:"text",id:"name",className:"block mt-1 w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",value:c,onChange:s=>m(s.target.value)})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email"}),e.jsx("input",{type:"email",id:"email",className:"block mt-1 w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",value:u,onChange:s=>x(s.target.value)})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Shops"}),e.jsx("div",{className:"mt-2 space-y-2",children:p.map(s=>e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",id:`shop-${s.id}`,className:"text-indigo-600 rounded border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50",checked:a.includes(s.id),onChange:o=>{o.target.checked?r([...a,s.id]):r(a.filter(n=>n!==s.id))}}),e.jsx("label",{htmlFor:`shop-${s.id}`,className:"ml-2 text-sm text-gray-700",children:s.name})]},s.id))})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Warehouses"}),e.jsx("div",{className:"mt-2 space-y-2",children:f.map(s=>e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",id:`warehouse-${s.id}`,className:"text-indigo-600 rounded border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50",checked:d.includes(s.id),onChange:o=>{o.target.checked?l([...d,s.id]):l(d.filter(n=>n!==s.id))}}),e.jsx("label",{htmlFor:`warehouse-${s.id}`,className:"ml-2 text-sm text-gray-700",children:s.name})]},s.id))})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"ロール"}),e.jsx(w,{value:g,options:j,onChange:s=>h(s.value),placeholder:"ロールを選択",className:"block mt-1 w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]}),e.jsx("div",{className:"mt-4",children:e.jsx("button",{type:"submit",className:"inline-flex items-center px-4 py-2 text-xs font-semibold tracking-widest text-white uppercase bg-gray-800 rounded-md border border-transparent transition duration-150 ease-in-out hover:bg-gray-700 active:bg-gray-900 focus:outline-none focus:border-gray-900 focus:ring focus:ring-gray-300 disabled:opacity-25",children:"Update"})})]})})})})})]})}export{W as default};
