import{r as l,j as e,L as u,$ as i,S as p}from"./app-yTh-YxTC.js";import{A as h}from"./AuthenticatedLayout-C_1Nqe5A.js";import{D as x,C as s}from"./column.esm-y3mWgzFK.js";import{B as a}from"./button.esm-BCdY-iGx.js";import"./ApplicationLogo-DltNY-8b.js";import"./transition-CH8N47gP.js";import"./index.esm-BVyL3PfI.js";import"./inputtext.esm-BfOPbrgO.js";import"./keyfilter.esm-EpLhoag2.js";import"./dropdown.esm-BlF-AyOP.js";import"./csstransition.esm-qN3COFcs.js";import"./index.esm-lNuoExQj.js";import"./index.esm-Df8kxFFf.js";import"./index.esm-BnBFkcEY.js";function F({posts:r}){const[n,o]=l.useState(!1),[d,c]=l.useState(null),m=t=>{confirm("この投稿を削除してもよろしいですか？")&&(o(!0),p.delete(route("warehouse.posts.destroy",t),{onFinish:()=>o(!1)}))};return e.jsxs(h,{header:e.jsx("h2",{className:"text-xl font-semibold leading-tight text-gray-800",children:"倉庫掲示板投稿管理"}),children:[e.jsx(u,{title:"倉庫掲示板投稿管理"}),e.jsx("div",{className:"py-12 pt-4",children:e.jsx("div",{className:"mx-auto max-w-7xl sm:px-6 lg:px-8",children:e.jsx("div",{className:"overflow-hidden bg-white shadow-sm sm:rounded-lg",children:e.jsxs("div",{className:"p-6 text-gray-900",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h3",{className:"text-lg font-medium",children:"あなたの倉庫掲示板投稿一覧"}),e.jsx(i,{href:route("warehouse.posts.create"),className:"inline-flex items-center px-4 py-2 text-xs font-semibold tracking-widest text-white uppercase bg-gray-800 rounded-md border border-transparent transition duration-150 ease-in-out hover:bg-gray-700 focus:bg-gray-700 active:bg-gray-900 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2",children:"新規投稿"})]}),e.jsx("div",{className:"flex justify-end mb-4",children:e.jsxs("span",{className:"p-input-icon-left",children:[e.jsx("i",{className:"pi pi-search"}),e.jsx("input",{type:"search",className:"p-inputtext p-component",placeholder:"検索...",onInput:t=>c(t.target.value)})]})}),r&&r.length>0?e.jsxs(x,{value:r,paginator:!0,rows:10,rowsPerPageOptions:[5,10,25,50],tableStyle:{minWidth:"50rem"},globalFilter:d,emptyMessage:"投稿がありません",sortMode:"multiple",removableSort:!0,resizableColumns:!0,columnResizeMode:"fit",className:"p-datatable-sm",stripedRows:!0,children:[e.jsx(s,{field:"title",header:"タイトル",sortable:!0,filter:!0,filterPlaceholder:"タイトルで検索",style:{width:"20%"}}),e.jsx(s,{field:"content",header:"内容",sortable:!0,filter:!0,filterPlaceholder:"内容で検索",style:{width:"25%"},body:t=>t.content.length>100?`${t.content.substring(0,100)}...`:t.content}),e.jsx(s,{field:"warehouse.name",header:"倉庫",sortable:!0,filter:!0,filterPlaceholder:"倉庫で検索",style:{width:"15%"},body:t=>t.warehouse?t.warehouse.name:"Unknown"}),e.jsx(s,{field:"created_at",header:"作成日時",sortable:!0,style:{width:"15%"},body:t=>new Date(t.created_at).toLocaleDateString("ja-JP",{year:"numeric",month:"long",day:"numeric"})}),e.jsx(s,{header:"アクション",style:{width:"15%"},body:t=>e.jsxs("div",{className:"flex gap-2",children:[e.jsx(i,{href:route("warehouse.posts.show",t.id),children:e.jsx(a,{icon:"pi pi-eye",className:"p-button-sm p-button-info"})}),e.jsx(i,{href:route("warehouse.posts.edit",t.id),children:e.jsx(a,{icon:"pi pi-pencil",className:"p-button-sm p-button-success"})}),e.jsx(a,{icon:"pi pi-trash",className:"p-button-sm p-button-danger",onClick:()=>m(t.id),disabled:n})]})})]}):e.jsx("p",{children:"投稿がありません。新しい投稿を作成してください。"})]})})})})]})}export{F as default};
