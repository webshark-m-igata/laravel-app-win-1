import{r as o,j as e,L as p,$ as i,S as u}from"./app-BpWF_zq6.js";import{A as h}from"./AuthenticatedLayout-Cia0Vt6E.js";import{D as x,C as s}from"./column.esm-o_G5tAGV.js";import{B as a}from"./button.esm-BmW90ZmM.js";import{I as f}from"./inputtext.esm-CiNcK0lE.js";import"./ApplicationLogo-C5H6nwKx.js";import"./transition-CPXQpZz6.js";import"./index.esm-vtogsqpO.js";import"./dropdown.esm-CgEdlw6j.js";import"./csstransition.esm-C-9dod2f.js";import"./index.esm-DLHf4VXQ.js";import"./index.esm-BW3I__JH.js";import"./index.esm-KgL8FXsT.js";import"./keyfilter.esm-shNeTo9H.js";function I({posts:r}){const[n,l]=o.useState(!1),[d,c]=o.useState(null),m=t=>{confirm("この投稿を削除してもよろしいですか？")&&(l(!0),u.delete(route("post.destroy",t),{onFinish:()=>l(!1)}))};return e.jsxs(h,{header:e.jsx("h2",{className:"text-xl font-semibold leading-tight text-gray-800",children:"投稿管理"}),children:[e.jsx(p,{title:"投稿管理"}),e.jsx("div",{className:"py-12",children:e.jsx("div",{className:"mx-auto max-w-7xl sm:px-6 lg:px-8",children:e.jsx("div",{className:"overflow-hidden bg-white shadow-sm sm:rounded-lg",children:e.jsxs("div",{className:"p-6 text-gray-900",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h3",{className:"text-lg font-medium",children:"あなたの投稿一覧"}),e.jsx(i,{href:route("post.create"),className:"inline-flex items-center px-4 py-2 text-xs font-semibold tracking-widest text-white uppercase bg-gray-800 rounded-md border border-transparent transition duration-150 ease-in-out hover:bg-gray-700 focus:bg-gray-700 active:bg-gray-900 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2",children:"新規投稿"})]}),e.jsx("div",{className:"flex justify-end mb-4",children:e.jsxs("span",{className:"p-input-icon-left",children:[e.jsx("i",{className:"pi pi-search"}),e.jsx(f,{type:"search",placeholder:"検索...",onInput:t=>c(t.target.value)})]})}),r&&r.length>0?e.jsxs(x,{value:r,paginator:!0,rows:10,rowsPerPageOptions:[5,10,25,50],tableStyle:{minWidth:"50rem"},globalFilter:d,emptyMessage:"投稿がありません",sortMode:"multiple",removableSort:!0,resizableColumns:!0,columnResizeMode:"fit",className:"p-datatable-sm",stripedRows:!0,children:[e.jsx(s,{field:"title",header:"タイトル",sortable:!0,filter:!0,filterPlaceholder:"タイトルで検索",style:{width:"20%"}}),e.jsx(s,{field:"content",header:"内容",sortable:!0,filter:!0,filterPlaceholder:"内容で検索",style:{width:"25%"},body:t=>t.content.length>100?`${t.content.substring(0,100)}...`:t.content}),e.jsx(s,{field:"shop.name",header:"ショップ",sortable:!0,filter:!0,filterPlaceholder:"ショップで検索",style:{width:"15%"},body:t=>t.shop?t.shop.name:"Unknown"}),e.jsx(s,{field:"created_at",header:"作成日時",sortable:!0,filter:!0,filterPlaceholder:"日付で検索",style:{width:"15%"},body:t=>new Date(t.created_at).toLocaleDateString("ja-JP",{year:"numeric",month:"long",day:"numeric"})}),e.jsx(s,{header:"アクション",style:{width:"15%"},body:t=>e.jsxs("div",{className:"flex gap-2",children:[e.jsx(i,{href:route("post.show",t.id),children:e.jsx(a,{icon:"pi pi-eye",className:"p-button-sm p-button-info"})}),e.jsx(i,{href:route("post.edit",t.id),children:e.jsx(a,{icon:"pi pi-pencil",className:"p-button-sm p-button-success"})}),e.jsx(a,{icon:"pi pi-trash",className:"p-button-sm p-button-danger",onClick:()=>m(t.id),disabled:n})]})})]}):e.jsx("p",{children:"投稿がありません。新しい投稿を作成してください。"})]})})})})]})}export{I as default};
